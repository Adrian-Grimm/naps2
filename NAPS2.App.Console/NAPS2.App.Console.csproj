<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net461</TargetFramework>
    <LangVersion>8</LangVersion>
    <OutputType>Exe</OutputType>
    <LargeAddressAware>true</LargeAddressAware>
    <RootNamespace>NAPS2.Console</RootNamespace>
    <AssemblyName>NAPS2.Console</AssemblyName>
    
    <Title>NAPS2 (Not Another PDF Scanner 2)</Title>
    <Product>NAPS2 (Not Another PDF Scanner 2)</Product>
    <Copyright>Copyright 2009, 2012-2020 NAPS2 Contributors; Icons from http://www.fatcow.com/free-icons</Copyright>
    <Version>7.0.0</Version>
  </PropertyGroup>

  <Import Project="..\NAPS2.Setup\CommonTargets.targets" />
  
  <ItemGroup>
    <Reference Include="System.Windows.Forms" />
    
    <ProjectReference Include="..\NAPS2.App.Worker\NAPS2.App.Worker.csproj" />
    <ProjectReference Include="..\NAPS2.Lib.Common\NAPS2.Lib.Common.csproj" />
    <ProjectReference Include="..\NAPS2.Lib.Console\NAPS2.Lib.Console.csproj" />
    <ProjectReference Include="..\NAPS2.Lib.WinForms\NAPS2.Lib.WinForms.csproj" />
    <ProjectReference Include="..\NAPS2.Sdk\NAPS2.Sdk.csproj" />
    
    <PackageReference Include="LargeAddressAware" Version="1.0.3" />
  </ItemGroup>
  
  <ItemGroup>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\dbg\win64\NAPS2.WIA.dll">
      <CopyToOutputDirectory Condition=" '$(Configuration)' == 'Debug' Or '$(Configuration)' == 'DebugLang' ">PreserveNewest</CopyToOutputDirectory>
      <Link>lib\dbg\win64\NAPS2.WIA.dll</Link>
      <TargetPath>_win64\NAPS2.WIA.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\win64\NAPS2.WIA.dll">
      <CopyToOutputDirectory Condition=" '$(Configuration)' != 'Debug' And '$(Configuration)' != 'DebugLang' ">PreserveNewest</CopyToOutputDirectory>
      <Link>lib\win64\NAPS2.WIA.dll</Link>
      <TargetPath>_win64\NAPS2.WIA.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\dbg\win32\NAPS2.WIA.dll">
      <CopyToOutputDirectory Condition=" '$(Configuration)' == 'Debug' Or '$(Configuration)' == 'DebugLang' ">PreserveNewest</CopyToOutputDirectory>
      <Link>lib\dbg\win32\NAPS2.WIA.dll</Link>
      <TargetPath>_win32\NAPS2.WIA.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\win32\NAPS2.WIA.dll">
      <CopyToOutputDirectory Condition=" '$(Configuration)' != 'Debug' And '$(Configuration)' != 'DebugLang' ">PreserveNewest</CopyToOutputDirectory>
      <Link>lib\win32\NAPS2.WIA.dll</Link>
      <TargetPath>_win32\NAPS2.WIA.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\win64\pdfium.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>lib\win64\pdfium.dll</Link>
      <TargetPath>_win64\pdfium.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\win32\pdfium.dll">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>lib\win32\pdfium.dll</Link>
      <TargetPath>_win32\pdfium.dll</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\linux\libpdfium.so">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>lib\linux\libpdfium.so</Link>
      <TargetPath>_linux\libpdfium.so</TargetPath>
    </ContentWithTargetPath>
    <ContentWithTargetPath Include="..\NAPS2.Setup\lib\osx\libpdfium.dylib">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>lib\osx\libpdfium.dylib</Link>
      <TargetPath>_osx\libpdfium.dylib</TargetPath>
    </ContentWithTargetPath>
  </ItemGroup>
</Project>